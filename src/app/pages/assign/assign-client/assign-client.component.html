<pre>
    {{clientAssignmentReq.value | json}}
    {{assignedClient | json}}
</pre>
<div class="flex flex-column row-gap-5 align-items-center justify-content-center min-h-screen m-5">

    <form [formGroup]="clientAssignmentReq" class="flex flex-column row-gap-5 ">

        <div class="surface-card p-4 shadow-2 border-round w-full flex flex-column row-gap-5">
        
            <div class="flex flex-row justify-content-between align-content-center">
                <h3>{{psUserName}}'s Clients</h3>
            </div>
            <div class="div">
                <p-scrollPanel [style]="{ width: '100%', height: '200px' }" styleClass="surface-400 p-3">
                    <p-chip
                        *ngFor="let assigned of assignedClient; let i=index" 
                        label="{{assigned.fullName}}" 
                        [image]="generateImage(assigned.profilePictureId)" 
                        alt="preAssigned{{i}}" styleClass="mr-3" [removable]="isClientRemovable(i)" (onRemove)="removeFromForm(i, assigned)"/>
                </p-scrollPanel>
            </div>
            
            <div class="card">
                
                <p-table [value]="unassignedClient" dataKey="id">
                    
                    <ng-template pTemplate="header">
                        
                        <tr>
                            <th class="text-center">Avatar</th>
                            <th [ngStyle]="{ 'min-width': '16rem' }">Name</th>
                            <th [ngStyle]="{ 'min-width': '16rem' }">Email</th>
                            <th [ngStyle]="{ 'min-width': '16rem' }">Phone</th>
                            <th class="text-center">Action</th>
                        </tr>
                    </ng-template>
    
                    <ng-template pTemplate="body" let-uclient let-ri="rowIndex">
                        
                        <tr *ngIf="isClientSelected(uclient.id)">
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="output">
                                        <p-avatar [image]="generateImage(uclient.profilePictureId)" shape="circle"
                                            class="flex justify-content-center" />
                                    </ng-template>
                                </p-cellEditor>
                            </td>
    
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="output">
                                        {{uclient.fullName}}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="output">
                                        {{uclient.email}}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
                            
                            <td>
                                <p-cellEditor>
                                    <ng-template pTemplate="output">
                                        {{uclient.phoneNumber}}
                                    </ng-template>
                                </p-cellEditor>
                            </td>
    
                            <td>
                                <div class="flex align-items-center justify-content-center gap-2">
                                    <p-button icon="pi pi-plus" label="Add" type="button" (onClick)="addToForm(uclient)" />
                                </div>
                            </td>
    
                        </tr>
    
                    </ng-template>
    
                </p-table>
    
            </div>

            <div class="card" *ngIf="isUnassignedClientsEmpty()" [ngStyle]="{ 'width' : '80rem' }">
                <div class="text-center">
                    No clients currently available
                </div>
            </div>

        </div>

        <div class="flex flex-row gap-5 align-items-center justify-content-center">
            <p-button label="Cancel" severity="secondary" (onClick)="onCancel()"/>
            <p-button label="Submit" [disabled]="isClientsEmpty()" (onClick)="onSubmit()"/>
        </div>

    </form>

</div>